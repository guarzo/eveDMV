{
  "name": "EVE PvP Tracker Dev Container",
  "dockerComposeFile": "../docker-compose.yml",
  "service": "app",
  "workspaceFolder": "/workspace",
  "shutdownAction": "stopCompose",
  "forwardPorts": [4010, 5433, 6380],
  "portsAttributes": {
    "*/tcp": {
      "onAutoForward": "ignore"
    },
    "4010": {
      "label": "Phoenix Server",
      "onAutoForward": "notify"
    },
    "5433": {
      "label": "PostgreSQL"
    },
    "6380": {
      "label": "Redis"
    }
  },
  "postCreateCommand": "echo 'Waiting for services...' && sleep 5 && mix deps.get && mix ecto.create --quiet && mix ecto.migrate && mix assets.setup && echo 'Dev container setup complete!'",
  "remoteUser": "vscode",
  "mounts": [
    "source=${localWorkspaceFolder}/.devcontainer/.bash_history,target=/home/vscode/.bash_history,type=bind,consistency=cached",
    "source=${localEnv:HOME}/.gitconfig,target=/home/vscode/.gitconfig,type=bind,consistency=cached",
    "source=${localEnv:HOME}/.ssh,target=/home/vscode/.ssh,type=bind,consistency=cached"
  ],
  "features": {
    "ghcr.io/devcontainers/features/common-utils:2": {
      "installZsh": "true",
      "configureZshAsDefaultShell": "true",
      "installOhMyZsh": "true",
      "networkArgs": ["--add-host=host.docker.internal:host-gateway"]
    },
    "ghcr.io/devcontainers/features/git:1": {
      "ppa": false,
      "version": "latest"
    }
  },
  "customizations": {
    "vscode": {
      "settings": {
        "terminal.integrated.shell.linux": "/bin/bash",
        "editor.formatOnSave": true,
        "elixir.projectPath": "/workspace",
        "elixir.suggestSpecs": false,
        "elixirLS.dialyzerEnabled": true,
        "elixirLS.fetchDeps": false,
        "elixirLS.suggestSpecs": false,
        "elixirLS.enableTestLenses": true,
        "files.associations": {
          "*.ex": "elixir",
          "*.exs": "elixir",
          "*.eex": "eex",
          "*.leex": "eex",
          "*.heex": "phoenix-heex"
        },
        "emmet.includeLanguages": {
          "phoenix-heex": "html",
          "elixir": "html"
        }
      },
      "extensions": [
        "phoenixframework.phoenix",
        "jakebecker.elixir-ls",
        "esbenp.prettier-vscode",
        "bradlc.vscode-tailwindcss",
        "ms-vscode.vscode-json",
        "redhat.vscode-yaml"
      ]
    }
  }
} 